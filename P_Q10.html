<!DOCTYPE html>
<html lang="en">
<head>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap">
<meta charset="UTF-8" />
<title>RST Practice Set 10</title>
<style>
body {
font-family: 'Inter', Arial, sans-serif;
background: linear-gradient(120deg, #e3f6f5 0%, #ffe8d6 100%);
color: #23395d;
min-height: 100vh;
margin: 0;
padding: 0;
}

.container {
width: 96%;
max-width: 500px;
margin: 40px auto 0 auto;
background: #fff;
border-radius: 20px;
box-shadow: 0 8px 32px rgba(34,57,93,0.15);
padding: 32px 24px;
position: relative;
}

h1 {
font-size: 2.2em;
color: #207bfa;
font-weight: 700;
letter-spacing: 1px;
margin-bottom: 10px;
}

#progress-container {
width: 100%;
background: #e9ecef;
height: 12px;
border-radius: 6px;
overflow: hidden;
margin-bottom: 10px;
}

#progress-bar {
height: 100%;
width: 0%;
background: linear-gradient(90deg, #207bfa 0%, #43cea2 100%);
transition: width 0.4s ease;
}

#question-counter {
font-size: 1.1em;
font-weight: 600;
color: #525252;
margin: 10px 0 18px 0;
text-align: center;
}

.card {
background: #f9f9fb;
padding: 28px 24px;
border-radius: 16px;
box-shadow: 0 2px 14px rgba(34,57,93,0.07);
text-align: left;
}

.options label {
display: block;
background: #f5fafd;
font-size: 1em;
margin: 10px 0;
cursor: pointer;
padding: 11px 16px;
border-radius: 8px;
border: 2px solid #e3f6f5;
transition: background 0.3s, border-color 0.3s;
}

.options input {
margin-right: 11px;
}

.btn {
display: inline-block;
margin: 18px 10px 0 0;
padding: 12px 30px;
font-size: 1.15em;
font-weight: 600;
cursor: pointer;
border: none;
border-radius: 8px;
background: linear-gradient(90deg, #207bfa 0%, #43cea2 100%);
color: #fff;
box-shadow: 0 3px 10px rgba(34,57,93,0.08);
transition: background 0.25s;
}

.btn:hover { background: linear-gradient(90deg, #43cea2 0%, #207bfa 100%); }

.correct {
background: #e6ffed !important;
border-color: #43cea2 !important;
opacity: 0.6;
pointer-events: none;
}

.wrong {
background: #ffebef !important;
border-color: #fa205c !important;
opacity: 0.6;
pointer-events: none;
}

.disabled-option {
opacity: 0.6;
pointer-events: none;
}

.timer {
font-weight: bold;
margin-bottom: 15px;
font-size: 1.08em;
color: #207bfa;
}

.timer.red { color: #fa205c; }
.timer.green { color: #43cea2; }

.explanation {
margin-top: 18px;
padding: 12px 16px;
background: #f6f3e9;
border-left: 5px solid #43cea2;
border-radius: 0 8px 8px 0;
font-size: 0.99em;
color: #525252;
}

#alert {
display: none;
font-size: 1.07em;
color: #fa205c;
letter-spacing: 0.5px;
margin: 6px 0;
font-weight: 700;
text-align: center;
}

#sound-toggle {
margin: 18px 0;
cursor: pointer;
font-size: 1em;
color: #43cea2;
font-weight: 600;
}

#score-container {
margin-top: 22px;
text-align: center;
}

.highlight-latest-result {
font-size: 1.33em;
font-weight: 800;
letter-spacing: 1px;
margin-bottom: 18px;
color: #207bfa;
}

#time-up-message {
font-size: 1.1em;
color: #fa205c;
font-weight: bold;
margin-top: 10px;
}
</style>
</head>
<body>
<div class="container">
<h1>RST Practice Set 10</h1>
<div id="sound-toggle" onclick="toggleSound()">
<span id="sound-icon">üîä</span> <span id="sound-text">Sound ON</span>
</div>
<div id="progress-container"><div id="progress-bar"></div></div>
<div id="question-counter">Questions: 25</div>
<div id="alert">‚è∞ Hurry! Time is almost up!</div>
<div id="quiz-container"></div>
<div id="score-container"></div>
<button id="start-button" class="btn">Start Quiz</button>
</div>
 <audio id="correct-sound" src="https://dm0qx8t0i9gc9.cloudfront.net/watermarks/audio/B4CWlP_CIkc1kju2x/audioblocks-feedback-correct-07_HiQUhCpDv_WM.mp3" preload="auto"></audio>
<audio id="wrong-sound" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
    const quizData = [

  {
    question: "Damage observed on any active aircraft at the apron must be reported instantly to which authority?",
    options: ["Airport security staff", "Ground handling provider", "Airport management office", "Aircraft Maintenance Engineer (AME)"],
    correct: 3,
    explanation: "Any structural or surface aircraft damage must be escalated without delay to an AME for immediate inspection."
  },

  {
    question: "What is the wingspan difference between an Airbus A320 fitted with Sharklets compared to one with Winglets?",
    options: ["2.00 meters wider", "1.00 meter wider", "1.70 meters wider", "No measurable difference"],
    correct: 2,
    explanation: "The Sharklet-equipped A320 has an additional 1.70 meters of wingspan compared to the Winglet-ed A320."
  },

{
    question: "What does the ramp signal ‚ÄòArms crossed overhead‚Äô instruct a pilot to do?",
    options: [
      "Prepare for taxi",
      "Hold brakes only",
      "Stop all movement immediately",
      "Proceed to park"
    ],
    correct: 2,
    explanation: "Crossed arms overhead is the universal marshalling signal demanding the aircraft stop without delay."
  },
  {
    question: "Why are reflective safety cones strategically placed around an aircraft on stand?",
    options: [
      "For aesthetic enhancement of apron layout",
      "To mark restricted zones and prevent unsupervised vehicle entry",
      "To provide illumination during night operations",
      "To visually guide boarding passengers"
    ],
    correct: 1,
    explanation: "Safety cones demarcate critical aircraft safety boundaries and **restrict unauthorized vehicle encroachment**."
  },
  {
    question: "During lightning activity detected near ramp operations, ground personnel must:",
    options: [
      "Continue tasks unless engine shutdown is ordered",
      "Suspend operations and move to lightning-protected shelters",
      "Hold onto metallic equipment to remain stable",
      "Block area with cones for safety"
    ],
    correct: 1,
    explanation: "All ramp activity ceases during lightning, as sheltering prevents electrocution hazards."
  },
  {
    question: "What is indicated by the rotating red beacon light on top of aircraft fuselage?",
    options: [
      "Aircraft is fully powered with potential for engine start or running engines",
      "Aircraft is empty and safe to approach",
      "Ground handling crew may begin servicing",
      "Boarding procedures should commence"
    ],
    correct: 0,
    explanation: "The beacon warns ground crew that engines may be active or starting, and to maintain safety clearance."
  },

{
    question: "When moving vehicles close to parked or taxiing aircraft, what maximum permissible speed must not be crossed?",
    options: [
      "10 km/h",
      "25 km/h",
      "20 km/h",
      "15 km/h"
    ],
    correct: 3,
    explanation: "Vehicles operating near aircraft must not exceed 15 km/h for collision-prevention and safe maneuvering."
  },
  {
    question: "When transporting tools and maintenance equipment on the apron, what procedure ensures compliance with safety protocols?",
    options: [
      "Leave them open in vehicle cargo areas",
      "Secure them firmly to eliminate risk of FOD",
      "Carry smaller items by hand",
      "Park them beside fuselage until required"
    ],
    correct: 1,
    explanation: "All tools and gear must be secured, as loose items turn into Foreign Object Debris (FOD) risking aircraft safety."
  },
  {
    question: "During fueling operations, vehicles must never pass which specific location?",
    options: [
      "Behind refueling truck",
      "Immediately in front of cockpit",
      "Across fueling hoses",
      "Beside pushback pathway"
    ],
    correct: 2,
    explanation: "Crossing fueling hoses risks rupture and leakage‚Äîthis is strictly prohibited during all fueling activities."
  },
  {
    question: "On taxiways approaching a runway, which mandatory marking indicates where an aircraft or vehicle must hold position?",
    options: [
      "Double solid + double dashed yellow lines across taxiway",
      "Blue identification strip",
      "Red painted stop-bar",
      "Continuous white boundary"
    ],
    correct: 0,
    explanation: "Holding points are universally marked with two solid and two dashed yellow bars across the taxiway."
  },      

{
    question: "Where must Ground Support Equipment (GSE) be secured when high wind advisories are active?",
    options: [
      "Near catering units for balance",
      "Behind aircraft engines",
      "Away from aircraft, in approved parking zones with brakes applied",
      "Anywhere if secured with cones"
    ],
    correct: 2,
    explanation: "In strong winds, GSE must be parked away from aircraft with brakes applied, facing into the wind to avoid drifting hazards."
  },
  {
    question: "What is the correct acronym describing the fire extinguisher operating sequence?",
    options: [
      "PASS",
      "SAFE",
      "STOP",
      "FIRE"
    ],
    correct: 0,
    explanation: "PASS is the memory aid for extinguisher use: Pull pin, Aim nozzle, Squeeze trigger, Sweep side to side."
  },
  {
    question: "When should a safety hazard identified on the ramp be reported?",
    options: [
      "Only after incident escalation",
      "Immediately upon noticing the unsafe condition",
      "During monthly safety audits",
      "At end of operational cycle"
    ],
    correct: 1,
    explanation: "Hazards must be reported instantly upon identification to prevent risk escalation or accidents."
  },
  {
    question: "What must ground staff verify before aligning service equipment with the aircraft?",
    options: [
      "Anti-collision beacon light switched off and aircraft secured with chocks",
      "Pilot visible in cockpit",
      "Supervisors monitoring movements",
      "All aircraft doors closed"
    ],
    correct: 0,
    explanation: "Ground staff align GSE only when the aircraft beacon is OFF and the aircraft is secured with wheel chocks."
  },
{
    question: "In night wing walking, which signaling tool ensures high visibility for safe guidance?",
    options: [
      "Battery-operated light panels",
      "Illuminated wands or lighted batons",
      "Standard red flags",
      "Reflective jackets only"
    ],
    correct: 1,
    explanation: "At night, lighted wands are used so signals remain visible to pilots and ground staff."
  },
  {
    question: "Within Airbus A320 aircraft configuration, approximately how many passenger seats are installed in a standard layout?",
    options: [
      "180 seats fitted",
      "220 seats arranged",
      "150 economy-only seats",
      "200 upgraded seats"
    ],
    correct: 0,
    explanation: "A320 standard seating capacity is typically 180 to 186 seats, based on airline layout."
  },
  {
    question: "Which storage compartment in Airbus aircraft is specifically classified as the 'bulk hold'?",
    options: [
      "Forward compartment (Compartment 1)",
      "Standard aft compartment (Compartment 2)",
      "Small manual-access cargo section at aft tail",
      "Cockpit rear equipment stowage"
    ],
    correct: 2,
    explanation: "The bulk hold refers to the manually accessed aft cargo section of Airbus aircraft, typically used for wheelchairs and pets."
  },
{
    question: "During ATR ground handling, when must hotel mode strictly be switched off?",
    options: [
      "During aircraft fueling only",
      "Before stepping into deboarding or ground service zones",
      "After pushback sequence has started",
      "Once operating crew boards the aircraft"
    ],
    correct: 1,
    explanation: "Hotel mode must be disengaged before deboarding and handling, as its active engine produces hazardous jet blast."
  },
  {
    question: "Which document serves as the mandatory notification to cockpit crew about dangerous or special cargo being carried?",
    options: [
      "Standard Passenger Manifest",
      "NOTOC (Notification to Captain)",
      "Safety Checklist Report",
      "Electronic Load Sheet"
    ],
    correct: 1,
    explanation: "NOTOC informs the Pilot-in-Command about dangerous goods or special load details."
  },
  {
    question: "What does 3-way passenger disembarkation mean in context of Airbus A321 operations?",
    options: [
      "Simultaneous use of two main doors and the service door for offloading",
      "Passengers exit via overwing emergency hatches to reduce time",
      "Three buses are provided at standstill bays",
      "Procedure applicable only to smaller airports"
    ],
    correct: 0,
    explanation: "On A321, 3-way disembarkation involves opening L1, L2, and R2 passenger/service doors to speed up turnaround."
  },
  {
    question: "What is the correct cargo loading sequence for ATR aircraft to prevent tail-tipping?",
    options: [
      "Load aft compartment before forward compartment",
      "Load forward compartment before aft compartment",
      "Load both forward and aft simultaneously",
      "Use only bulk hold initially"
    ],
    correct: 1,
    explanation: "On ATR, the forward cargo hold is loaded first to avoid instability and possible tail tipping."
  },
  {
    question: "When moving vehicles close to parked or taxiing aircraft, what maximum permissible speed must not be crossed?",
    options: [
      "10 km/h",
      "25 km/h",
      "20 km/h",
      "15 km/h"
    ],
    correct: 3,
    explanation: "Vehicles operating near aircraft must not exceed 15 km/h for collision-prevention and safe maneuvering."
  },
  {
    question: "When transporting tools and maintenance equipment on the apron, what procedure ensures compliance with safety protocols?",
    options: [
      "Leave them open in vehicle cargo areas",
      "Secure them firmly to eliminate risk of FOD",
      "Carry smaller items by hand",
      "Park them beside fuselage until required"
    ],
    correct: 1,
    explanation: "All tools and gear must be secured, as loose items turn into Foreign Object Debris (FOD) risking aircraft safety."
  },
  {
    question: "During fueling operations, vehicles must never pass which specific location?",
    options: [
      "Behind refueling truck",
      "Immediately in front of cockpit",
      "Across fueling hoses",
      "Beside pushback pathway"
    ],
    correct: 2,
    explanation: "Crossing fueling hoses risks rupture and leakage‚Äîthis is strictly prohibited during all fueling activities."
  },
  {
    question: "On taxiways approaching a runway, which mandatory marking indicates where an aircraft or vehicle must hold position?",
    options: [
      "Double solid + double dashed yellow lines across taxiway",
      "Blue identification strip",
      "Red painted stop-bar",
      "Continuous white boundary"
    ],
    correct: 0,
    explanation: "Holding points are universally marked with two solid and two dashed yellow bars across the taxiway."
  }
    ];

   let currentQuestion = 0;
let score = 0;
let timer;
let timeLeft = 60;
let soundOn = true;
let soundEnabled = true;
const userAnswers = [];
const allResults = [];

const quizContainer = document.getElementById("quiz-container");
const scoreContainer = document.getElementById("score-container");
const progressBar = document.getElementById("progress-bar");
const questionCounter = document.getElementById("question-counter");
const alertBox = document.getElementById("alert");
const startButton = document.getElementById("start-button");
const correctSound = document.getElementById("correct-sound");
const wrongSound = document.getElementById("wrong-sound");

function startQuiz() {
currentQuestion = 0;
score = 0;
userAnswers.length = 0;
quizStartTime = new Date(); 
startButton.style.display = "none";
scoreContainer.innerHTML = "";
showQuestion();
}

function showQuestion() {
clearInterval(timer);
timeLeft = 60;
updateTimer();
alertBox.style.display = "none";
const questionData = quizData[currentQuestion];
quizContainer.innerHTML = `
<div class="card">
<div class="timer" id="timer">Time left: ${timeLeft}s</div>
<h2>${questionData.question}</h2>
<div class="options">
${questionData.options.map((opt, i) =>
`<label class=""><input type="radio" name="answer" value="${i}"> ${opt}</label>`
).join("")}
</div>
<div id="warning-message"></div>
<button class="btn" onclick="submitAnswer()">Submit</button>
</div>
`;
questionCounter.textContent = `Question ${currentQuestion + 1} of ${quizData.length}`;
progressBar.style.width = `${((currentQuestion) / quizData.length) * 100}%`;

timer = setInterval(() => {
timeLeft--;
updateTimer();
if (timeLeft <= 5) alertBox.style.display = "block";
if (timeLeft === 0) submitAnswer(true);
}, 1000);
}

function updateTimer() {
const timerEl = document.getElementById("timer");
if (!timerEl) return;
timerEl.textContent = `Time left: ${timeLeft}s`;
timerEl.className = "timer " + (timeLeft <= 5 ? "red" : "green");
}

function submitAnswer(auto = false) {
const selected = document.querySelector('input[name="answer"]:checked');
const questionData = quizData[currentQuestion];

if (!selected && !auto) {
const warning = document.getElementById("warning-message");
if (warning) warning.textContent = "‚ö†Ô∏è Please select an option before submitting.";
return;
}

clearInterval(timer);
alertBox.style.display = "none";

const warning = document.getElementById("warning-message");
if (warning) warning.textContent = "";

let isCorrect = false;

if (selected) {
const answer = parseInt(selected.value);
userAnswers[currentQuestion] = answer;
if (answer === questionData.correct) {
score++;
isCorrect = true;
}
} else {
userAnswers[currentQuestion] = null;
}

const optionsLabels = document.querySelectorAll(".options label");
optionsLabels.forEach((label, i) => {
label.classList.add("disabled");
const input = label.querySelector('input');
if (input) input.disabled = true;

if (i === questionData.correct) label.classList.add("correct");
else if (selected && i === parseInt(selected.value)) label.classList.add("wrong");
});

const submitBtn = quizContainer.querySelector("button.btn");
if (submitBtn) submitBtn.disabled = true;

quizContainer.innerHTML += `
<div class="explanation"><strong>Explanation:</strong> ${questionData.explanation}</div>
<button class="btn" onclick="nextQuestion()">Next</button>
`;

setTimeout(() => {
showResult(isCorrect);
}, 150);

progressBar.style.width = `${((currentQuestion + 1) / quizData.length) * 100}%`;

allResults[currentQuestion] = {
question: questionData.question.trim(),
selected: selected ? parseInt(selected.value) : null,
correct: questionData.correct,
options: questionData.options.map(o => o.trim()),
explanation: questionData.explanation.trim(),
};
}

function showResult(correct) {
const sound = correct ? correctSound : wrongSound;
sound.currentTime = 0;
if (soundEnabled) sound.play();

if (correct) {
confetti();
setTimeout(() => {
sound.pause();
sound.currentTime = 0;
}, 2400);
}
}

function nextQuestion() {
currentQuestion++;
if (currentQuestion >= quizData.length) {
showScore();
} else {
showQuestion();
}
}

function showScore() {
const endTime = new Date();
const timeTaken = Math.floor((endTime - quizStartTime) / 1000); 
const percentage = Math.round((score / quizData.length) * 100);
const passed = percentage >= 90;

quizContainer.innerHTML = "";
questionCounter.textContent = `Quiz Completed!`;
progressBar.style.width = "100%";

let resultMessage = `
<div class="highlight-latest-result">
You scored ${score} out of ${quizData.length} (${percentage}%)
<br><span style="color:${passed ? '#43cea2' : '#fa205c'}; font-weight:bold;">
${passed ? "‚úÖ Passed!" : "‚ùå Not Passed"}
</span>
</div>
`;

let buttonsHTML = `
<div class="button-group">
<button class="btn" onclick="startQuiz()">Restart Quiz</button>
<button class="btn" onclick="toggleReview()">Review Answers</button>
<button class="btn" onclick="downloadResultsPDF(${score}, ${quizData.length}, ${timeTaken})">Share Results</button>
<button class="btn" onclick="goHome()">Homepage</button>
</div>
<div id="review-section"></div>
`;

scoreContainer.innerHTML = resultMessage + buttonsHTML;
}

function toggleReview() {
const reviewSection = document.getElementById("review-section");
if (reviewSection.innerHTML.trim() !== "") {
reviewSection.innerHTML = "";
} else {
let resultsHTML = `<h3 style="text-align:center;">Review Your Answers:</h3>`;
allResults.forEach((result, i) => {
const userAnswerIndex = result.selected;
const correctIndex = result.correct;
resultsHTML += `
<div class="card" style="margin-bottom:15px; text-align:left;">
<strong>Q${i + 1}: ${result.question}</strong><br>
Your answer: ${userAnswerIndex === null ? "No answer" : result.options[userAnswerIndex]} ${userAnswerIndex === correctIndex ? "‚úÖ" : "‚ùå"}<br>
Correct answer: ${result.options[correctIndex]}<br>
<div class="explanation">${result.explanation}</div>
</div>
`;
});
reviewSection.innerHTML = resultsHTML;
}
}

function downloadResultsPDF(score, total, timeTaken) {
const { jsPDF } = window.jspdf;
const doc = new jsPDF();
const now = new Date();
const formattedDate = now.toLocaleString();
const percentage = Math.round((score / total) * 100) + "%";

doc.setFont("helvetica", "bold");
doc.setFontSize(16);
doc.text("RST Practice Set Results", 20, 20);

const headers = ["Date", "Score", "Time Taken"];
const data = [[ formattedDate, `${score} / ${total} (${percentage})`, `${timeTaken} seconds` ]];

const startX = 20;
const startY = 30;
const colWidths = [60, 60, 60];
const rowHeight = 10;

headers.forEach((header, i) => {
doc.setFillColor(240, 240, 240);
doc.rect(startX + colWidths.slice(0, i).reduce((a, b) => a + b, 0), startY, colWidths[i], rowHeight, 'FD');
doc.setTextColor(0);
doc.setFontSize(12);
doc.text(header.trim(), startX + colWidths.slice(0, i).reduce((a, b) => a + b, 0) + 2, startY + 7);
});

data[0].forEach((text, i) => {
const x = startX + colWidths.slice(0, i).reduce((a, b) => a + b, 0);
const y = startY + rowHeight;
doc.rect(x, y, colWidths[i], rowHeight); 
doc.text(text.trim(), x + 2, y + 7);
});

doc.save("quiz_results.pdf");
}

function goHome() {
window.location.href = "index.html";
}
function toggleSound() {
soundOn = !soundOn;
soundEnabled = soundOn;
const icon = document.getElementById("sound-icon");
const text = document.getElementById("sound-text");
if (soundOn) {
icon.textContent = "üîä";
text.textContent = "Sound ON";
} else {
icon.textContent = "üîá";
text.textContent = "Sound OFF";
}
}

startButton.addEventListener("click", startQuiz);
</script>
</body>
</html>

